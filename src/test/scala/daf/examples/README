TODO: review the examples, refactoring tests